<!DOCTYPE html><html lang=en><head><meta charset=utf-8><title>Using The Config &middot; Vanilla Documentation</title><meta name=description content=""><meta name=keywords content=""><meta name=viewport content="width=device-width"><link rel=stylesheet href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic|Source+Code+Pro:400,600"><link rel=stylesheet href=/assets/8b724ede.main.css><body><!--[if lt IE 9]>
      <p class="alert alert-warning text-center outdated-browser">You are using an <strong>outdated</strong> browser. Please <a class="alert-link" href="http://outdatedbrowser.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><div id=top></div><nav class="navbar navbar-default navbar-static-top" role=navigation><div class=container><!-- Brand and toggle get grouped for better mobile display --><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="/"><img class=logo src=/assets/img/9bdefa97.logo.svg alt="Vanilla Forums" width=102 height=41> Docs</a></div><!-- Collect the nav links, forms, and other content for toggling --><div class="collapse navbar-collapse"><div class="navbar-form navbar-left"><div class="dropdown js-search" role=search><div class=form-group><input class="form-control js-search-input" id=docs-search title="Search the documentation" placeholder=Search></div><ul class="dropdown-menu dropdown-search-results js-search-results"><li><a><span class=title></span> <span class=categories></span></a></li></ul></div></div><ul class="nav navbar-nav navbar-right"><li><a href=http://vanillaforums.com>Cloud Hosted Community</a></li><li><a href=http://vanillaforums.org>Open Source Community</a></li></ul></div></div></nav><header class="jumbotron masthead" role=banner><div class=container><h1>Using The Config</h1></div></header><div class=container><ol class=breadcrumb><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href="/" itemprop=url><span itemprop=title>Home</span></a></li><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href=/developers itemprop=url><span itemprop=title>Developers</span></a></li><li itemscope itemtype=http://data-vocabulary.org/Breadcrumb><a href=/developers/configuration itemprop=url><span itemprop=title>Configuration</span></a></li><li class=active itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span itemprop=title>Using The Config</span></li></ol><div class=row><div class=col-sm-2><nav class="docs-nav js-docs-nav" role=navigation><ul class="nav nav-stacked"><li><a href=/addons>Addons</a><ul class="nav nav-stacked"><li><a href=/addons/badges>Badges</a><ul class="nav nav-stacked"><li><a href=/addons/badges/adding-and-editing-badges>Adding and Editing Badges</a></li><li><a href=/addons/badges/giving-and-requesting-badges>Giving and Requesting Badges</a></li></ul></li><li><a href=/addons/gigya>Gigya Sign In</a></li><li><a href=/addons/groups>Groups</a><ul class="nav nav-stacked"><li><a href=/addons/groups/managing-groups>Managing Groups</a></li></ul></li><li><a href=/addons/pockets>Introduction to Pockets</a></li><li><a href=/addons/ranks>Ranks</a><ul class="nav nav-stacked"><li><a href=/addons/ranks/adding-and-editing-ranks>Adding and Editing Ranks</a></li><li><a href=/addons/ranks/applying-ranks-over-sso>Applying Ranks over SSO</a></li><li><a href=/addons/ranks/using-ranks-as-incentives>Using Ranks as Incentives</a></li><li><a href=/addons/ranks/using-ranks-to-defeat-spam-or-abuse>Using Ranks to Defeat Spam or Abuse</a></li></ul></li><li><a href=/addons/reactions>Reactions</a><ul class="nav nav-stacked"><li><a href=/addons/reactions/curating-with-reactions>Curating with Reactions</a></li><li><a href=/addons/reactions/adding-and-editing-reactions>Adding and Editing Reactions</a></li></ul></li><li><a href=/addons/reporting>Reporting</a></li><li><a href=/addons/statistics>Vanilla Statistics</a></li><li><a href=/addons/warnings-and-notes>Warnings and Notes</a><ul class="nav nav-stacked"><li><a href=/addons/warnings-and-notes/adding-and-editing-user-notes>Adding and Editing User Notes</a></li><li><a href=/addons/warnings-and-notes/upgrading-from-warnings>Upgrading from Warnings</a></li><li><a href=/addons/warnings-and-notes/warning-a-user>Warning a User</a></li></ul></li></ul></li><li><a href=/api>API</a><ul class="nav nav-stacked"><li><a href=/api/smart-id>Smart ID</a></li><li><a href=/api/categories>Categories</a></li><li><a href=/api/comments>Comments</a></li><li><a href=/api/discussions>Discussions</a></li><li><a href=/api/forum-administration>Forum Administration</a></li></ul></li><li><a href=/cloud>Cloud Services</a><ul class="nav nav-stacked"><li><a href=/cloud/integration>Integration Services</a></li><li><a href=/cloud/migration>Migration Services</a></li><li><a href=/cloud/repo>Repository</a></li><li><a href=/cloud/ssl>Setting up SSL (https)</a></li><li><a href=/cloud/staging>Staging Site</a></li><li><a href=/cloud/support>Support</a></li><li><a href=/cloud/theming>Theming Services</a></li></ul></li><li class=active><a href=/developers>Developers</a><ul class="nav nav-stacked"><li><a href=/developers/changelog>Changelog</a></li><li><a href=/developers/troubleshooting>Troubleshooting</a></li><li><a href=/developers/installation>Installation</a></li><li><a href=/developers/locales>Locales</a></li><li><a href=/developers/tools>Developer Tools</a></li><li><a href=/developers/community>Developers Community</a></li><li><a href=/developers/contributing>Contributing</a><ul class="nav nav-stacked"><li><a href=/developers/contributing/coding-standard>Coding Standard</a></li><li><a href=/developers/contributing/standards>Coding Standards</a></li></ul></li><li><a href=/developers/framework>Framework</a><ul class="nav nav-stacked"><li><a href=/developers/framework/ajax>Asynchronous Requests</a></li><li><a href=/developers/framework/views>Views</a></li><li><a href=/developers/framework/controllers>Controllers</a></li><li><a href=/developers/framework/database>Database Queries</a></li><li><a href=/developers/framework/dispatcher>Dispatcher</a></li><li><a href=/developers/framework/helpers>Helpers</a></li><li><a href=/developers/framework/assets>Assets</a></li><li><a href=/developers/framework/inform>Inform Notifications</a></li><li><a href=/developers/framework/models>Models and Forms</a></li><li><a href=/developers/framework/modules>Modules</a></li><li><a href=/developers/framework/permissions>Permissions</a></li><li><a href=/developers/framework/i18n>Internationalization &amp; Localization</a></li></ul></li><li><a href=/developers/importing>Importing</a><ul class="nav nav-stacked"><li><a href=/developers/importing/build>Building new porters</a></li><li><a href=/developers/importing/porter>Vanilla Porter</a></li><li><a href=/developers/importing/support>Supported platforms</a></li></ul></li><li><a href=/developers/plugins>Plugins</a><ul class="nav nav-stacked"><li><a href=/developers/plugins/quickstart>Plugin Quickstart</a></li></ul></li><li class=active><a href=/developers/configuration>Configuration</a><ul class="nav nav-stacked"><li class=active><a href=/developers/configuration/using>Using The Config</a></li></ul></li></ul></li><li><a href=/features>Features</a><ul class="nav nav-stacked"><li><a href=/features/categories>Categories</a></li><li><a href=/features/embedding>Embedding</a></li><li><a href=/features/mobile>Mobile</a></li><li><a href=/features/moderation>Moderation</a></li><li><a href=/features/notifications>Notifications</a></li><li><a href=/features/setup>Setting Up Your New Forum</a></li><li><a href=/features/sso>Single Sign-On</a></li><li><a href=/features/wordpress>WordPress Integration</a><ul class="nav nav-stacked"><li><a href=/features/wordpress/using-comments>Using Comments</a></li><li><a href=/features/wordpress/wishlist>WishList Integration</a></li></ul></li></ul></li><li><a href=/theming>Theming</a><ul class="nav nav-stacked"><li><a href=/theming/css>Theming CSS</a></li><li><a href=/theming/hooks>Theming Hooks</a></li><li><a href=/theming/quickstart>Theming Quickstart</a></li><li><a href=/theming/views>Theming Views</a></li><li><a href=/theming/smarty>Smarty</a><ul class="nav nav-stacked"><li><a href=/theming/smarty/asset>{asset}</a></li><li><a href=/theming/smarty/text>{text}</a></li><li><a href=/theming/smarty/custom-menu>{custom_menu}</a></li><li><a href=/theming/smarty/event>{event}</a></li><li><a href=/theming/smarty/i18n>{t}</a></li><li><a href=/theming/smarty/link>{link}</a></li><li><a href=/theming/smarty/breadcrumbs>{breadcrumbs}</a></li><li><a href=/theming/smarty/mobile-logo>{mobile_logo}</a></li><li><a href=/theming/smarty/permission>{permission}</a></li><li><a href=/theming/smarty/pocket>{pocket}</a></li><li><a href=/theming/smarty/searchbox>{searchbox}</a></li><li><a href=/theming/smarty/logo>{logo}</a></li></ul></li></ul></li></ul><p><a class=text-muted href=#top><strong>Back to top</strong></a></p></nav></div><div class=col-sm-10><div class="edit-doc pull-right"><a class="btn btn-default btn-xs" href=https://github.com/vanilla/vanilladocs/edit/master/docs/developers/configuration/using.html.md>Improve document</a></div><article class=markdown-body role=article><h2 id=when-to-use-the-config>When to use the config</h2><p>Use the config for saving settings in your theme or plugin. You should only save small amounts of data to the config, and it should not be data that is changed frequently.</p><p>If you have large quantities of data or data that is written frequently, consider using the <a href=/developers/framework/database>database</a> instead.</p><h2 id=reading-from-config>Reading from config</h2><p>The <code>C</code> function is the appropriate shortcut for reading from the config. The first parameter is the name of the config value in <a href=/developers/configuration>dot notation</a>. The second is an optional default value to return if requested config setting is not defined.</p><p>Example: <code>$Value = C(&#39;Name.Of.Setting&#39;, &#39;DefaultValue&#39;);</code></p><p>You can call a partial config key to get an array of all values below it in dot notation. For instance, say this was in your config:</p><pre class=highlight><code class="hljs php"><span class=hljs-variable>$Configuration</span>[<span class=hljs-string>'Example'</span>][<span class=hljs-string>'Settings'</span>][<span class=hljs-string>'A'</span>] = <span class=hljs-number>1</span>;
<span class=hljs-variable>$Configuration</span>[<span class=hljs-string>'Example'</span>][<span class=hljs-string>'Settings'</span>][<span class=hljs-string>'B'</span>] = <span class=hljs-number>2</span>;
</code></pre><p>Now calling <code>C(&#39;Examples.Settings&#39;);</code> will return <code>array(&#39;A&#39;=&gt;1, &#39;B&#39;=&gt;2)</code>.</p><h2 id=writing-to-config>Writing to config</h2><p>Save to the config with the <code>SaveToConfig</code> function. It takes the name of the config value, a new value to associate with it, and an optional options array. In the options array, you can pass the key <code>Save</code> with the value <code>FALSE</code> to make the config change only apply for this pageload.</p><p>Change a config setting permanently: <code>SaveToConfig(&#39;Name.Of.Setting&#39;, &#39;NewValue&#39;);</code></p><p>Change a config setting only for this pageload: <code>SaveToConfig(&#39;Name.Of.Setting&#39;, &#39;NewValue&#39;, array(&#39;Save&#39; =&gt; FALSE));</code></p><p>Simply passing the value <code>FALSE</code> in place of the options array has the same effect as passing <code>array(&#39;Save&#39; =&gt; FALSE)</code>.</p><aside class=warning>Do not used numeric-key arrays as config values. Associative arrays are fine.</aside><h2 id=configuration-module>Configuration module</h2><p>We&#39;ve created a shortcut for making simple settings pages using the <code>ConfigurationModule</code>.</p><p>The configuration module can be instantiated and rendered from any plugin. You <code>Initialize</code> it with an array of config values, each of which has its own array of properties to define it (type of field, label, default, etc). See <code>applications/dashboard/modules/class.configurationmodule.php</code> for details.</p><p>This is how the Akismet plugin uses the ConfigurationModule to build a simple settings page consisting of a text field and a dropdown:</p><pre class=highlight><code class="hljs php"><span class=hljs-variable>$Cf</span> = <span class=hljs-keyword>new</span> ConfigurationModule(<span class=hljs-variable>$Sender</span>);
<span class=hljs-variable>$Cf</span>-&gt;Initialize(<span class=hljs-keyword>array</span>(
    <span class=hljs-string>'Plugins.Akismet.Key'</span> =&gt; <span class=hljs-keyword>array</span>(<span class=hljs-string>'Description'</span> =&gt; <span class=hljs-variable>$KeyDesc</span>),
    <span class=hljs-string>'Plugins.Akismet.Server'</span> =&gt; <span class=hljs-keyword>array</span>(<span class=hljs-string>'Description'</span> =&gt; <span class=hljs-string>'You can use either Akismet or TypePad antispam.'</span>, <span class=hljs-string>'Control'</span> =&gt; <span class=hljs-string>'DropDown'</span>, <span class=hljs-string>'Items'</span> =&gt; <span class=hljs-keyword>array</span>(<span class=hljs-string>''</span> =&gt; <span class=hljs-string>'Aksimet'</span>, <span class=hljs-string>'api.antispam.typepad.com'</span> =&gt; <span class=hljs-string>'TypePad'</span>, <span class=hljs-string>'DefaultValue'</span> =&gt; <span class=hljs-string>''</span>))
));
<span class=hljs-variable>$Cf</span>-&gt;RenderAll();
</code></pre><p>That&#39;s all there is to it - no custom view is involved.</p></article></div></div></div><footer class="footer js-footer"><div class=jumbotron><div class=container><div class=row><div class=col-sm-6><h3><a href=#>Cloud Hosting</a></h3><p><strong>We believe that online communities should be intuitive, engaging and true to your brand.</strong> Vanilla allows you to create a customized community that rewards positive participation, automatically curates content and lets members drive moderation.</p></div><div class=col-sm-6><h3><a href=#>Open Source</a></h3><p>Vanilla provides cloud and open source community forum software that powers discussion forums on more than 700,000 sites. Built for flexibility and integration, <strong>Vanilla is the best, most powerful community solution in the world.</strong></p></div></div></div></div><div class=footer-copyright><div class=container><p class=text-center>Copyright &copy; 2009-2014 <a href=//vanillaforums.com>Vanilla Forums Inc.</a> All rights reserved.</p><ul class="list-inline text-center"><li><a href=//docs.vanillaforums.com>Docs</a></li><li><a href=//blog.vanillaforums.com>Blog</a></li><li><a href=//vanillaforums.com>Cloud</a></li><li><a href=//vanillaforums.org>Community</a></li><li><a href=https://github.com/vanilla>GitHub</a></li><li><a href=https://github.com/vanilla/vanilla/issues>Issues</a></li></ul></div></div></footer><script src=/assets/115fed0b.main.js></script>