<!DOCTYPE html><html lang=en><head><meta charset=utf-8><title>API &middot; Vanilla Documentation</title><meta name=description content=""><meta name=viewport content="width=device-width"><link rel=stylesheet href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic"><link rel=stylesheet href=/assets/0650809a.main.css><body><!--[if lt IE 9]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><div id=top></div><nav class="navbar navbar-default navbar-static-top" role=navigation><div class=container><!-- Brand and toggle get grouped for better mobile display --><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="/"><img class=logo src=/assets/img/logo.svg alt="Vanilla Forums"> Docs</a></div><!-- Collect the nav links, forms, and other content for toggling --><div class="collapse navbar-collapse"><div class="navbar-form navbar-left"><div id=search-docs class="dropdown{{hasResults ? ' open' : ' closed'}}" role=search><div class=form-group><input v-on=input:search class=form-control id=docs-search title="Search the documentation" placeholder=Search></div><ul class="dropdown-menu dropdown-search-results"><li v-repeat=results><a href={{url}}><span class=title>{{title}}</span> <span class=categories>{{categories.join(' / ')}}</span></a></li></ul></div></div><ul class="nav navbar-nav navbar-right"><li><a href=http://vanillaforums.com>Cloud Hosted Community</a></li><li><a href=http://vanillaforums.org>Open Source Community</a></li></ul></div></div></nav><header class="jumbotron masthead" role=banner><div class=container><h1>API</h1></div></header><div class=container><ol class=breadcrumb><li><a href="/">Home</a></li><li class=active>API</li></ol><div class=row><div class=col-sm-2><nav class="docs-nav js-docs-nav" role=navigation><ul class="nav nav-stacked"><li class=active><a href=/api>API</a><ul class="nav nav-stacked"><li><a href=/api/categories>Categories</a></li><li><a href=/api/comments>Comments</a></li><li><a href=/api/discussions>Discussions</a></li><li><a href=/api/forum-administration>Forum Administration</a></li><li><a href=/api/smart-id>Smart ID</a></li></ul></li><li><a href=/addons>Addons</a><ul class="nav nav-stacked"><li><a href=/addons/gigya>Gigya Sign In</a></li><li><a href=/addons/groups>Groups</a><ul class="nav nav-stacked"><li><a href=/addons/groups/managing-groups>Managing Groups</a></li></ul></li><li><a href=/addons/pockets>Introduction to Pockets</a></li><li><a href=/addons/ranks>Ranks</a><ul class="nav nav-stacked"><li><a href=/addons/ranks/adding-and-editing-ranks>Adding and Editing Ranks</a></li><li><a href="/addons/ranks/applying-ranks-over sso">Applying Ranks over SSO</a></li><li><a href=/addons/ranks/using-ranks-as-incentives>Using Ranks as Incentives</a></li><li><a href=/addons/ranks/using-ranks-to-defeat-spam-or-abuse>Using Ranks to Defeat Spam or Abuse</a></li></ul></li><li><a href=/addons/reactions>Reactions</a><ul class="nav nav-stacked"><li><a href=/addons/reactions/adding-and-editing-reactions>Adding and Editing Reactions</a></li><li><a href=/addons/reactions/curating-with-reactions>Curating with Reactions</a></li></ul></li><li><a href=/addons/badges>Badges</a><ul class="nav nav-stacked"><li><a href=/addons/badges/adding-and-editing-badges>Adding and Editing Badges</a></li><li><a href=/addons/badges/giving-and-requesting-badges>Giving and Requesting Badges</a></li></ul></li><li><a href=/addons/reporting>Reporting</a></li><li><a href=/addons/warnings-and-notes>Warnings and Notes</a><ul class="nav nav-stacked"><li><a href=/addons/warnings-and-notes/adding-and-editing-user-notes>Adding and Editing User Notes</a></li><li><a href=/addons/warnings-and-notes/upgrading-from-warnings>Upgrading from Warnings</a></li><li><a href=/addons/warnings-and-notes/warning-a-user>Warning a User</a></li></ul></li></ul></li><li><a href=/cloud>Cloud Services</a><ul class="nav nav-stacked"><li><a href=/cloud/integration>Integration Services</a></li><li><a href=/cloud/migration>Migration Services</a></li><li><a href=/cloud/repo>Repository</a></li><li><a href=/cloud/ssl>Setting up SSL (https)</a></li><li><a href=/cloud/staging>Staging Site</a></li><li><a href=/cloud/support>Support</a></li><li><a href=/cloud/theming>Theming Services</a></li></ul></li><li><a href=/developers>Developers</a><ul class="nav nav-stacked"><li><a href=/developers/changelog>Changelog</a></li><li><a href=/developers/configuration>Configuration</a><ul class="nav nav-stacked"><li><a href=/developers/configuration/using>Using The Config</a></li></ul></li><li><a href=/developers/installation>Installation</a></li><li><a href=/developers/locales>Locales</a></li><li><a href=/developers/tools>Developer Tools</a></li><li><a href=/developers/community>Developers Community</a></li><li><a href=/developers/framework>Framework</a><ul class="nav nav-stacked"><li><a href=/developers/framework/ajax>Asynchronous Requests</a></li><li><a href=/developers/framework/views>Views</a></li><li><a href=/developers/framework/controllers>Controllers</a></li><li><a href=/developers/framework/database>Database Queries</a></li><li><a href=/developers/framework/dispatcher>Dispatcher</a></li><li><a href=/developers/framework/helpers>Helpers</a></li><li><a href=/developers/framework/assets>Assets</a></li><li><a href=/developers/framework/inform>Inform Notifications</a></li><li><a href=/developers/framework/models>Models and Forms</a></li><li><a href=/developers/framework/modules>Modules</a></li><li><a href=/developers/framework/permissions>Permissions</a></li><li><a href=/developers/framework/i18n>Internationalization &amp; Localization</a></li></ul></li><li><a href=/developers/importing>Importing</a><ul class="nav nav-stacked"><li><a href=/developers/importing/build>Building new porters</a></li><li><a href=/developers/importing/porter>Vanilla Porter</a></li><li><a href=/developers/importing/support>Supported platforms</a></li></ul></li><li><a href=/developers/plugins>Plugins</a><ul class="nav nav-stacked"><li><a href=/developers/plugins/quickstart>Plugin Quickstart</a></li></ul></li><li><a href=/developers/troubleshooting>Troubleshooting</a></li><li><a href=/developers/contributing>Contributing</a><ul class="nav nav-stacked"><li><a href=/developers/contributing/coding-standard>Coding Standard</a></li><li><a href=/developers/contributing/standards>Coding Standards</a></li></ul></li></ul></li><li><a href=/features>Features</a><ul class="nav nav-stacked"><li><a href=/features/embedding>Embedding</a></li><li><a href=/features/categories>Categories</a></li><li><a href=/features/mobile>Mobile</a></li><li><a href=/features/notifications>Notifications</a></li><li><a href=/features/moderation>Moderation</a></li><li><a href=/features/setup>Setting Up Your New Forum</a></li><li><a href=/features/sso>Single Sign-On</a></li><li><a href=/features/wordpress>WordPress Integration</a><ul class="nav nav-stacked"><li><a href=/features/wordpress/using-comments>Using Comments</a></li><li><a href=/features/wordpress/wishlist>WishList Integration</a></li></ul></li></ul></li><li><a href=/theming>Theming</a><ul class="nav nav-stacked"><li><a href=/theming/css>Theming CSS</a></li><li><a href=/theming/hooks>Theming Hooks</a></li><li><a href=/theming/quickstart>Theming Quickstart</a></li><li><a href=/theming/views>Theming Views</a></li><li><a href=/theming/smarty>Smarty</a><ul class="nav nav-stacked"><li><a href=/theming/smarty/asset>{asset}</a></li><li><a href=/theming/smarty/text>{text}</a></li><li><a href=/theming/smarty/custom-menu>{custom_menu}</a></li><li><a href=/theming/smarty/event>{event}</a></li><li><a href=/theming/smarty/i18n>{t}</a></li><li><a href=/theming/smarty/link>{link}</a></li><li><a href=/theming/smarty/breadcrumbs>{breadcrumbs}</a></li><li><a href=/theming/smarty/mobile-logo>{mobile_logo}</a></li><li><a href=/theming/smarty/permission>{permission}</a></li><li><a href=/theming/smarty/pocket>{pocket}</a></li><li><a href=/theming/smarty/searchbox>{searchbox}</a></li><li><a href=/theming/smarty/logo>{logo}</a></li></ul></li></ul></li></ul><p><a class=text-muted href=#top><strong>Back to top</strong></a></p></nav></div><div class=col-sm-10><div class="edit-doc pull-right"><a class="btn btn-default btn-xs" href=https://github.com/vanilla/vanilladocs/edit/master/docs/api/index.html.md>Improve document</a></div><article class=markdown-body role=article><h2 id=api-overview>API Overview</h2><p>Vanilla has had a read-only ReSTful API for some time, but until now, no formal way to access any write methods. This all changes with Simple API. Now developers can access Vanilla’s write methods using an access_token configured in the dashboard.</p><h2 id=configuring-simple-api>Configuring Simple API</h2><p>Simple API is a plugin. Once you&#39;ve enabled the plugin you’ll see a new link in your dashboard called &quot;API&quot;. This page allows forum owners to set the access token, define a user account that will be used for API access, and determine whether API calls are allowed over HTTP and HTTPS, or just HTTPS.</p><h3 id=access-token>Access Token</h3><p>The access token is like a password for accessing the API from outside of Vanilla. A suitable token is randomly generated for you when the plugin is first loaded, but you can change it at any time. Changing the token will necessarily invalidate the existing one, so remember to update existing projects if they use the API. Remember though: this token is a kind of password, so make sure it is long and complex, just like the initial token that we pre-filled for you.</p><h3 id=user>User</h3><p>When an API call is made, your access token confirms that you are authorized to make API calls, but we need some way to determine what level of access to give the API once you’re authenticated. We do this by &quot;logging you in&quot; temporarily as the user you specify here. The API session will inherit all of this user&#39;s permissions and will have the same level of access as this user. By default, we use the Vanilla System User, who has unrestricted administrative access.</p><h3 id=security>Security</h3><p>Considering that the API gives unprecedented access to Vanilla’s data, it is prudent to be concerned with security. For this reason you have the option to ignore API requests that are not secured by HTTPS. HTTPS encrypts the connection, including the request URL, thereby preventing potential hackers from seeing your access token in request URLs. <strong>This setting is highly recommended, but not required</strong>.</p><h2 id=making-api-calls>Making API Calls</h2><p>All API calls should be made against your forum&#39;s &quot;Vanilla URL&quot;, for example: <code>https://mycompany.vanillaforums.com</code></p><h3 id=versioned-endpoint>Versioned Endpoint</h3><pre class=highlight><code class="hljs undefined"># Example of versioned endpoint
https://mycompany.vanillaforums.com/api/v1/categories/list.ext
</code></pre><p>The Vanilla API is versioned to allow backwards compatibility during upgrades. <strong>API requests should always be made with a version stub</strong>.</p><h3 id=-get-vs-post-><code>GET</code> vs. <code>POST</code></h3><p>Calls to the API are strictly separated by HTTP request type. Requests for data (which do not cause modifications) are done using <code>GET</code>, while changes and updates are done using <code>POST</code>. When reading the documentation for a method, make sure to take note of its expected request type.</p><h3 id=wire-format>Wire Format</h3><p>Regardless of the request type, the <code>access_token</code> should always be supplied in the query string:</p><pre class=highlight><code class="hljs http"><span class=hljs-request>GET <span class=hljs-string>/categories/all.json?access_token=abc123</span> HTTP/1.1</span>
<span class=hljs-attribute>Host</span>: <span class=hljs-string>mycompany.vanillaforums.com</span>
</code></pre><p>The above request will yield the following response:</p><pre class=highlight><code class="hljs http"><span class=hljs-status>HTTP/1.1 <span class=hljs-number>200</span> OK</span>
<span class=hljs-attribute>Date</span>: <span class=hljs-string>Tue, 19 Jul 2012 19:50:02 GMT</span>
<span class=hljs-attribute>Content-Type</span>: <span class=hljs-string>application/json</span>
<span class=hljs-attribute>Vary</span>: <span class=hljs-string>Accept-Encoding</span>
<span class=hljs-attribute>Content-Length</span>: <span class=hljs-string>90</span>
<span class=hljs-attribute>Connection</span>: <span class=hljs-string>close</span>
</code></pre><h3 id=api-smart-ids>API Smart IDs</h3><p>Some API methods ask require a user ID for one or more of their parameters. Sometimes it&#39;s difficult to know what their user ID is so the Vanilla API can look up the user if you pass the user in a special way. This is referred to as a smart ID and you can read about it here.</p><h3 id=request-encoding>Request Encoding</h3><p>By default, the API expects incoming request data to be <code>application/x-www-form-urlencoded</code>. If no <code>Content-Type</code> is provided, this will be assumed. It is also possible to alter this behaviour and cause the API to parse a JSON-encoded request body by setting the <code>Content-Type</code> to <code>application/json</code>.</p><h3 id=response-encoding>Response Encoding</h3><p>The data encoding of the response is determined by the file extension attached to the request&#39;s method. In the above example, the controller name is categories and the method is all. The file extension on the method is <code>.json</code>, which will result in JSON encoded data being returned. If the request is being made to the controller&#39;s root method, index, the method may be omitted and the file extension may be applied to the controller instead.</p><h3 id=recognized-file-extensions>Recognized file extensions</h3><table><thead><tr><th>Extension<th>Description<tbody><tr><td><code>.json</code><td>JSON encoded response<tr><td><code>.xml</code><td>XML encoded response<tr><td>No extension<td>XHTML response, suitable for user interface</table><h2 id=response-codes>Response Codes</h2><p>Generally, if an API request is successful it will return the standard response code of <code>200</code>. You can check for this response code. If you get an error code (<code>4xx</code>-<code>5xx</code>) then you can check the <code>Exception</code> property of the response some error text that will help you to determine what went wrong.</p></article></div></div></div><footer class="footer js-footer"><div class=jumbotron><div class=container><div class=row><div class=col-sm-6><h3><a href=#>Cloud Hosting</a></h3><p><strong>We believe that online communities should be intuitive, engaging and true to your brand.</strong> Vanilla allows you to create a customized community that rewards positive participation, automatically curates content and lets members drive moderation.</p></div><div class=col-sm-6><h3><a href=#>Open Source</a></h3><p>Vanilla provides cloud and open source community forum software that powers discussion forums on more than 700,000 sites. Built for flexibility and integration, <strong>Vanilla is the best, most powerful community solution in the world.</strong></p></div></div></div></div><div class=footer-copyright><div class=container><p class=text-center>Copyright &copy; 2009-2014 <a href=//vanillaforums.com>Vanilla Forums Inc.</a> All rights reserved.</p><ul class="list-inline text-center"><li><a href=//docs.vanillaforums.com>Docs</a></li><li><a href=//blog.vanillaforums.com>Blog</a></li><li><a href=//vanillaforums.com>Cloud</a></li><li><a href=//vanillaforums.org>Community</a></li><li><a href=https://github.com/vanilla>GitHub</a></li><li><a href=https://github.com/vanilla/vanilla/issues>Issues</a></li></ul></div></div></footer><script src=/assets/974b85ae.main.js></script>